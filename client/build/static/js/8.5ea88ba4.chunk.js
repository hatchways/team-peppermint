(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{267:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(53),r=a(0),c=a.n(r),i=a(533),o=a(268),l=a.n(o),s=a(343),u=a.n(s),m=a(344),g=a.n(m),p=Object(i.a)(Object(n.a)({imageContainer:{backgroundImage:"url(".concat(l.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh",width:"40vw",marginRight:20},gradientContainer:{backgroundImage:"linear-gradient(#3a8cffca, #86b8ffc9)",height:"100vh",width:"40vw",display:"grid",justifyItems:"center",alignItems:"center"},iconStyle:{fontSize:70,color:"rgba(255, 255, 255, 0.80)"},textStyle:{color:"rgba(255, 255, 255, 0.95)",fontWeight:"200",fontSize:40,width:"70%",textAlign:"center",marginBottom:-80,marginTop:-80}},"@media (max-width:560px)",{imageContainer:{height:"20vh",width:"100vw"},gradientContainer:{height:"20vh",width:"100vw"},textStyle:{fontSize:25}}));function d(){var e=p();return c.a.createElement("div",{className:e.imageContainer},c.a.createElement("div",{className:e.gradientContainer},c.a.createElement(u.a,{className:e.iconStyle}),c.a.createElement("h3",{className:e.textStyle},"Converse with anyone with any language"),c.a.createElement(g.a,{className:e.iconStyle})))}},268:function(e,t,a){e.exports=a.p+"static/media/login-signup-bgImage.48ff3fda.png"},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(53),r=a(0),c=a.n(r),i=a(533),o=a(547),l=a(61),s=Object(i.a)((function(e){return Object(n.a)({container:{display:"flex",flexDirection:"row-reverse",alignItems:"center",justifyContent:"end",paddingTop:15},button:{marginRight:30,padding:"15px 40px",backgroundColor:"#fff",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.19)"},text:{marginRight:25,color:"rgb(180, 180, 180)"},linkText:{color:"#3A8DFF",textDecoration:"none"}},"@media (max-width:560px)",{container:{justifyContent:"center"},button:{marginRight:0}})}));function u(e){var t=e.questionText,a=e.buttonText,n=s();var r="login"===a.toLowerCase()?"/login":"/signup";return c.a.createElement("div",{className:n.container},c.a.createElement(o.a,{className:n.button,variant:"contained"},c.a.createElement(l.b,{to:r,className:n.linkText},a)),c.a.createElement("p",{className:n.text},t))}},270:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a(3),r=a.n(n),c=a(8),i=a(53),o=a(6),l=a(23),s=a(0),u=a.n(s),m=a(572),g=a(577),p=a(550),d=a(569),h=a(547),f=a(573),b=a(566),v=a(533),x=Object(v.a)((function(e){return Object(i.a)({root:{display:"flex",flexDirection:"column",marginTop:"40px"},formField:{width:"80%",marginBottom:"40px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},header:{marginTop:"80px"},languageHeader:{marginTop:"20px"},ctaBTN:{color:"#fff",backgroundColor:"#3A8DFF",width:"40%",margin:"0 17.5%",padding:"20px 30px"}},"@media (max-width:560px)",{root:{justifyContent:"center",alignItems:"center"},header:{textAlign:"center",fontSize:"1.5em"}})})),j=a(27),O=a(5),w=a(9),E=a.n(w),C=a(32),S=a(56),y=a(345),k=Object(S.m)(),N=a(346)(window.location.href).search.split("=")[1];function T(e){return u.a.createElement(b.a,Object.assign({elevation:6,variant:"filled"},e))}function F(e){var t,a,n,b=e.headerText,v=x(),w=Object(s.useState)(""),F=Object(l.a)(w,2),I=F[0],B=F[1],D=Object(s.useState)(""),R=Object(l.a)(D,2),q=R[0],z=R[1],A=Object(s.useState)(""),H=Object(l.a)(A,2),L=H[0],W=H[1],J=Object(s.useState)(""),P=Object(l.a)(J,2),G=P[0],M=P[1],$=Object(s.useState)(!1),K=Object(l.a)($,2),Q=K[0],U=K[1],V=Object(s.useState)(!1),X=Object(l.a)(V,2),Y=X[0],Z=X[1],_=Object(s.useState)(),ee=Object(l.a)(_,2),te=ee[0],ae=ee[1],ne=Object(j.d)(),re=Object(O.f)(),ce=Object(s.useState)({name:!1,email:!1,password:!1}),ie=Object(l.a)(ce,2),oe=ie[0],le=ie[1],se=Object(s.useState)(""),ue=Object(l.a)(se,2),me=ue[0],ge=ue[1],pe=Object(s.useState)(""),de=Object(l.a)(pe,2),he=de[0],fe=de[1],be=Object(s.useState)(""),ve=Object(l.a)(be,2),xe=ve[0],je=ve[1];k&&N&&(Object(S.d)(k,N),re.push("/"));var Oe=function(e){return function(t){t.preventDefault(),le(Object(o.a)(Object(o.a)({},oe),{},Object(i.a)({},e,!0)))}},we=function(e,t,a){return"Create an account."===b?{name:0===e.length,email:0===t.length,password:0===a.length}:{email:0===t.length,password:0===a.length}}(I,q,L),Ee=Object.keys(we).some((function(e){return we[e]}));function Ce(e){return(t=/^[^@]+@[^@]+\.[^@]+$/.test(e))||fe("That is not an email"),t}function Se(e){return 0===e.length&&ge("Name is required"),e.length>0}function ye(e){return(a=e.length>=6)||je("Password needs to be at least 6 characters"),a}function ke(){B(""),z(""),W(""),M("")}var Ne=function(){var e=Object(c.a)(r.a.mark((function e(c){var i,o,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&c.preventDefault(),ae(),e.prev=2,t=Ce(q),a=ye(L),t&&fe(""),a&&je(""),"Create an account."===b&&(n=Se(I))&&ge(""),void 0!==n&&!n||!t||!a){e.next=29;break}if("Create an account."!==b){e.next=19;break}return Z(!0),i={name:y(I),email:q,password:L,language:G,referrer:N},e.next=9,E.a.post("".concat("https://peppermint-chat-server.herokuapp.com","/api/user/signup"),i);case 9:return e.next=11,E.a.post("".concat("https://peppermint-chat-server.herokuapp.com","/api/user/login"),{email:q,password:L});case 11:o=e.sent,C.a.emit("login",q),Object(j.c)(o.data.token,o.data.user,ne),localStorage.setItem("auth-token",o.data.token),ke(),re.push("/"),e.next=29;break;case 19:return Z(!0),l={email:q,password:L},e.next=23,E.a.post("".concat("https://peppermint-chat-server.herokuapp.com","/api/user/login"),l);case 23:s=e.sent,C.a.emit("login",q),Object(j.c)(s.data.token,s.data.user,ne),localStorage.setItem("auth-token",s.data.token),ke(),re.push("/");case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),e.t0.response.data.msg?ae(e.t0.response.data.msg):console.log(e.t0);case 34:case"end":return e.stop()}}),e,null,[[2,31]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){Z(!1)};return u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",{className:v.header},b),u.a.createElement("form",{onSubmit:Ne,className:v.root},"Create an account."===b?u.a.createElement(m.a,{label:"Choose your display name",className:v.formField,name:"name",required:!0,type:"text",onChange:function(e){B(e.target.value),Se(e.target.value)&&ge("")},value:I,onBlur:Oe("name"),helperText:me,error:!!me}):null,u.a.createElement(m.a,{label:"E-mail address",className:v.formField,name:"email",required:!0,type:"text",onChange:function(e){z(e.target.value),Ce(e.target.value)&&fe("")},value:q,onBlur:Oe("email"),helperText:he,error:!!he}),u.a.createElement(m.a,{label:"Password",className:v.formField,required:!0,type:"password",name:"password",onChange:function(e){W(e.target.value),ye(e.target.value)&&je("")},value:L,onBlur:Oe("password"),helperText:xe,error:!!xe}),"Create an account."===b?u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,{id:"label",className:v.languageHeader},"Select primary language"),u.a.createElement(d.a,{labelId:"label",id:"select",open:Q,onClose:function(){U(!1)},onOpen:function(){U(!0)},value:G,onChange:function(e){M(e.target.value)},className:v.formField,label:"Select primary language"},u.a.createElement(p.a,{value:"english",default:!0},"English"),u.a.createElement(p.a,{value:"chinese"},"Chinese (Mandarin)"),u.a.createElement(p.a,{value:"spanish"},"Spanish"),u.a.createElement(p.a,{value:"french"},"French"),u.a.createElement(p.a,{value:"russian"},"Russian"))):null,u.a.createElement(h.a,{variant:"contained",disableElevation:!0,className:v.ctaBTN,type:"submit",disabled:Ee},"Submit")),u.a.createElement(f.a,{open:Y,autoHideDuration:5e3,onClose:Te},te?u.a.createElement(T,{open:Y,onClose:Te,severity:"error"},te):u.a.createElement(T,{open:Y,onClose:Te},"Create an account."===b?"Welcome!":"Welcome Back")))}},563:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(534),i=a(267),o=a(270),l=a(269);t.default=function(){return r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(c.a,{container:!0,spacing:1},r.a.createElement(c.a,{item:!0,"xs-12":"true"},r.a.createElement(i.a,null)),r.a.createElement(c.a,{item:!0,xs:!0},r.a.createElement(l.a,{questionText:"Already have an account?",buttonText:"Login"}),r.a.createElement(o.a,{headerText:"Create an account."}))))}}}]);
//# sourceMappingURL=8.5ea88ba4.chunk.js.map